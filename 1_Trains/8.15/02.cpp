#include <iostream>
#include <cmath>
#include <algorithm>
#include <string.h>
#include <vector>

#define ll long long
#define N 100005

using namespace std;

ll a[1001] = {0,0,1,1,2,3,2,3,3,2,3,4,3,4,4,4,4,5,3,4,4,4,5,6,4,5,5,3,4,5,4,5,5,5,6,7,4,5,5,5,5,6,5,6,6,5,6,7,5,6,6,6,6,7,4,5,5,5,6,7,5,6,6,5,6,7,6,7,7,7,8,9,5,6,6,6,6,7,6,7,6,4,5,6,5,6,7,6,7,8,5,6,7,6,7,8,6,7,7,6,7,8,7,8,7,8,8,9,5,6,6,6,6,7,6,7,7,6,7,8,6,7,7,7,7,8,6,7,7,7,8,9,7,8,8,6,7,8,7,8,9,8,9,10,6,7,7,7,7,8,7,8,7,7,8,9,7,8,8,8,7,8,5,6,6,6,7,8,6,7,7,6,7,8,7,8,8,8,9,10,6,7,7,7,8,9,7,8,8,6,7,8,7,8,8,8,8,9,7,8,8,8,9,10,8,9,9,8,8,9,9,10,9,10,10,11,6,7,7,7,7,8,7,8,7,7,8,9,7,8,8,8,8,9,7,8,8,8,9,10,7,8,8,5,6,7,6,7,8,7,8,9,6,7,8,7,8,9,8,9,9,7,8,9,8,9,9,9,9,10,6,7,8,7,8,9,8,9,9,7,8,9,8,9,10,9,10,11,7,8,8,8,8,9,8,9,8,7,8,9,8,9,9,9,8,9,8,9,9,9,10,11,8,9,9,9,9,10,9,10,8,10,9,10,6,7,7,7,7,8,7,8,8,7,8,9,7,8,8,8,8,9,7,8,8,8,9,10,8,9,9,7,8,9,8,9,10,9,10,11,7,8,8,8,8,9,8,9,9,8,9,10,8,9,9,9,9,10,7,8,8,8,9,10,8,9,9,8,9,10,9,10,9,10,10,11,8,9,9,9,9,10,9,10,10,7,8,9,8,9,10,9,10,11,8,9,9,9,10,11,10,11,11,9,10,11,10,11,11,11,12,13,7,8,8,8,8,9,8,9,8,8,9,10,8,9,9,9,8,9,8,9,9,9,10,11,8,9,9,8,9,10,9,10,9,10,10,11,8,9,9,9,9,10,9,10,10,9,10,11,8,9,9,9,9,10,6,7,7,7,8,9,7,8,8,7,8,9,8,9,9,9,10,11,7,8,8,8,9,10,8,9,9,7,8,9,8,9,10,9,10,11,8,9,9,9,10,11,9,10,10,9,10,11,10,11,10,11,11,12,7,8,8,8,9,10,8,9,9,8,9,10,9,10,10,10,10,11,8,9,9,9,10,11,9,10,10,7,8,9,8,9,10,9,10,11,8,9,9,9,9,10,9,10,9,9,10,11,9,10,10,10,9,10,8,9,9,9,10,11,9,10,10,9,10,11,10,11,9,11,10,11,9,10,10,10,10,11,10,11,11,9,10,11,9,10,10,10,10,11,10,11,10,11,11,12,10,11,11,11,9,10,11,12,10,12,11,12,7,8,8,8,8,9,8,9,8,8,9,10,8,9,9,9,9,10,8,9,9,9,10,11,8,9,9,8,9,10,9,10,9,10,10,11,8,9,9,9,9,10,9,10,10,9,10,11,9,10,10,10,10,11,8,9,9,9,10,11,9,10,10,9,10,11,10,11,11,11,12,13,8,9,9,9,9,10,9,10,9,6,7,8,7,8,9,8,9,10,7,8,9,8,9,10,9,10,10,8,9,10,9,10,10,10,11,12,7,8,9,8,9,10,9,10,10,8,9,10,9,10,10,10,10,11,9,10,10,10,11,12,10,11,11,8,9,10,9,10,11,10,11,12,9,10,10,10,10,11,10,11,10,10,11,12,10,11,11,11,11,12,7,8,9,8,9,10,9,10,10,8,9,10,9,10,11,10,11,12,9,10,10,10,10,11,10,11,11,8,9,10,9,10,11,10,11,12,9,10,11,10,11,12,11,12,12,10,11,12,11,12,13,12,13,14,8,9,9,9,9,10,9,10,9,9,10,11,9,10,10,10,9,10,9,10};

ll recu(ll x,ll d)
{
    if(d >= 100) return 1000000000000000000;
    if(x<=800) return a[x];
    else
    {
        if(x%3==0) return recu(x/3,d+1)+1;
        else
        {
            if(x%2==0)
            {
                if(x%3==1)
                {
                    ll ans1 = recu((x-1)/3,d+2)+2;
                    ll ans2 = recu(x/2,d+1)+1;
                    if(ans1<ans2) return ans1;
                    else return ans2;
                }
                if(x%3==2)
                {
                    ll ans1 = recu((x-2)/3,d+3)+3;
                    ll ans2 = recu(x/2,d+1)+1;
                    if(ans1<ans2) return ans1;
                    else return ans2;
                }
            }
            else return recu(x-1,d+1)+1;
        }
    }
}



void solve()
{
    ll n;
    cin>>n;
    ll ans=recu(n,1);
    cout<<ans<<endl;
}

int main()
{
    std::ios::sync_with_stdio(false);
    std::cin.tie(0);
    std::cout.tie(0);
    ll t;
    cin >> t;
    while (t--)
        solve();
    // system("pause");
}